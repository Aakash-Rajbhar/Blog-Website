{"ast":null,"code":"import _slicedToArray from\"D:/Programming/Projects/Blog Website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{useParams,Link}from\"react-router-dom\";import{format}from\"date-fns\";import{UserContext}from\"../UserContext\";import{BASE_URL}from'../helper.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostPage=function PostPage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),postInfo=_useState2[0],setPostInfo=_useState2[1];var _useContext=useContext(UserContext),userInfo=_useContext.userInfo;var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetch(\"\".concat(BASE_URL,\"/post/\").concat(id)).then(function(response){response.json().then(function(postInfo){setPostInfo(postInfo);});});// eslint-disable-next-line\n},[]);if(!postInfo)return\"\";return/*#__PURE__*/_jsxs(\"div\",{className:\"post-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:postInfo===null||postInfo===void 0?void 0:postInfo.title}),/*#__PURE__*/_jsx(\"time\",{children:format(new Date(postInfo.createdAt),\"MMM dd, yyyy HH:mm\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"author\",children:[\"By: @\",postInfo.author.username]}),userInfo.id===postInfo.author._id&&/*#__PURE__*/_jsx(\"div\",{className:\"edit-row\",children:/*#__PURE__*/_jsxs(Link,{className:\"edit-button\",to:\"/edit/\".concat(postInfo._id),children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:1.5,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\"})}),\"Edit Post\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:4000/\".concat(postInfo.cover),alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"post-page-text\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",dangerouslySetInnerHTML:{__html:postInfo.content}})})]});};export default PostPage;","map":{"version":3,"names":["React","useContext","useEffect","useState","useParams","Link","format","UserContext","BASE_URL","jsx","_jsx","jsxs","_jsxs","PostPage","_useState","_useState2","_slicedToArray","postInfo","setPostInfo","_useContext","userInfo","_useParams","id","fetch","concat","then","response","json","className","children","title","Date","createdAt","author","username","_id","to","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","src","cover","alt","dangerouslySetInnerHTML","__html","content"],"sources":["D:/Programming/Projects/Blog Website/client/src/pages/PostPage.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\nimport { UserContext } from \"../UserContext\";\r\nimport {BASE_URL} from '../helper.js'\r\n\r\nconst PostPage = () => {\r\n  const [postInfo, setPostInfo] = useState(null);\r\n  const { userInfo } = useContext(UserContext);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetch(`${BASE_URL}/post/${id}`).then((response) => {\r\n      response.json().then((postInfo) => {\r\n        setPostInfo(postInfo);\r\n      });\r\n    });\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  if (!postInfo) return \"\";\r\n\r\n  return (\r\n    <div className=\"post-page\">\r\n      <h1>{postInfo?.title}</h1>\r\n      <time>{format(new Date(postInfo.createdAt), \"MMM dd, yyyy HH:mm\")}</time>\r\n      <div className=\"author\">By: @{postInfo.author.username}</div>\r\n      {userInfo.id === postInfo.author._id && (\r\n        <div className=\"edit-row\">\r\n          <Link className=\"edit-button\" to={`/edit/${postInfo._id}`}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth={1.5}\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\"\r\n              />\r\n            </svg>\r\n            Edit Post\r\n          </Link>\r\n        </div>\r\n      )}\r\n      <div className=\"image\">\r\n        <img src={`http://localhost:4000/${postInfo.cover}`} alt=\"\" />\r\n      </div>\r\n      <div className=\"post-page-text\">\r\n        <div\r\n          className=\"content\"\r\n          dangerouslySetInnerHTML={{ __html: postInfo.content }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}