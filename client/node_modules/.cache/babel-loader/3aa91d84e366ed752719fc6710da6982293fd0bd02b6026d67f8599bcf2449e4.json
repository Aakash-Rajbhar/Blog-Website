{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import{Link}from\"react-router-dom\";import{UserContext}from\"../UserContext\";import logo from\"../assets/logo.png\";import{BASE_URL}from'../helper.js';// requiring dotenv \nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(){var _useContext=useContext(UserContext),userInfo=_useContext.userInfo,setUserInfo=_useContext.setUserInfo;useEffect(function(){fetch(\"\".concat(BASE_URL,\"/profile\"),{credentials:\"include\"}).then(function(response){response.json().then(function(userInfo){setUserInfo(userInfo);});});// eslint-disable-next-line\n},[]);var logout=function logout(){fetch(\"http://localhost:4000/logout\",{credentials:\"include\",method:\"POST\"});setUserInfo(null);};var username=userInfo===null||userInfo===void 0?void 0:userInfo.username;return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-div\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\"})})}),/*#__PURE__*/_jsxs(\"nav\",{children:[username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:username})]}),/*#__PURE__*/_jsx(Link,{className:\"create-btn btn\",to:\"/create\",children:\"Create new post\"}),/*#__PURE__*/_jsx(Link,{className:\"logout-btn btn\",onClick:logout,children:\"Logout\"})]}),!username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn\",to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{className:\"btn\",to:\"/register\",children:\"Register\"})]})]})]});};export default Header;","map":{"version":3,"names":["React","useEffect","useContext","Link","UserContext","logo","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_useContext","userInfo","setUserInfo","fetch","concat","credentials","then","response","json","logout","method","username","children","className","to","src","alt","xmlns","viewBox","fill","fillRule","d","clipRule","onClick"],"sources":["D:/Programming/Projects/Blog Website/client/src/components/Header.js"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from \"../UserContext\";\r\nimport logo from \"../assets/logo.png\";\r\nimport {BASE_URL} from '../helper.js'\r\n\r\n// requiring dotenv \r\n\r\n\r\n\r\nconst Header = () => {\r\n  const { userInfo, setUserInfo } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch(`${BASE_URL}/profile`, {\r\n      credentials: \"include\",\r\n    }).then((response) => {\r\n      response.json().then((userInfo) => {\r\n        setUserInfo(userInfo);\r\n      });\r\n    });\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    fetch(\"http://localhost:4000/logout\", {\r\n      credentials: \"include\",\r\n      method: \"POST\",\r\n    });\r\n    setUserInfo(null);\r\n  };\r\n\r\n  const username = userInfo?.username;\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"logo-div\">\r\n        <Link to=\"/\" className=\"logo\">\r\n          <img src={logo} alt=\"logo\" />\r\n        </Link>\r\n      </div>\r\n      <nav>\r\n        {username && (\r\n          <>\r\n            <div className=\"user\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"currentColor\"\r\n                className=\"w-6 h-6\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              <span className=\"username\">{username}</span>\r\n            </div>\r\n\r\n            <Link className=\"create-btn btn\" to=\"/create\">\r\n              Create new post\r\n            </Link>\r\n            <Link className=\"logout-btn btn\" onClick={logout}>\r\n              Logout\r\n            </Link>\r\n          </>\r\n        )}\r\n        {!username && (\r\n          <>\r\n            <Link className=\"btn\" to=\"/login\">\r\n              Login\r\n            </Link>\r\n            <Link className=\"btn\" to=\"/register\">\r\n              Register\r\n            </Link>\r\n          </>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}